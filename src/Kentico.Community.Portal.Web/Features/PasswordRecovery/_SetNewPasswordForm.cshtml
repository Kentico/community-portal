@using Kentico.Community.Portal.Web.Features.PasswordRecovery

@model SetNewPasswordViewModel

@if (Model.SubmissionState == State.Reset)
{
    <p>Your password has been reset. You can now <a asp-controller="Authentication" asp-action="Login">Login</a></p>
    
    return;
}

<form
    method="post"
    hx-swap="outerHTML"
    hx-post
    hx-controller="PasswordRecovery"
    hx-action="SetNewPassword"
    id="SetNewPassword"
    test-id="SetNewPassword">
    <div class="form-horizontal">
        <div class="form-group">
            <div class="editing-form-label-cell">
                <label asp-for="Password" class="control-label form-label mt-3"></label>
            </div>
            <div class="editing-form-value-cell">
                <input asp-for="Password" class="form-control" test-id="password">
                <span asp-validation-for="Password" class="text-danger field-validation-error"></span>
            </div>
        </div>
        <div class="form-group">
            <div class="editing-form-label-cell">
                <label asp-for="PasswordConfirmation" class="control-label form-label mt-3"></label>
            </div>
            <div class="editing-form-value-cell">
                <input asp-for="PasswordConfirmation" class="form-control" test-id="passwordConfirmation">
                <span asp-validation-for="PasswordConfirmation" class="text-danger field-validation-error"></span>
            </div>
        </div>
        <span>
            <input asp-for="UserId" />
            <input asp-for="Token" />
        </span>
    </div>
    <button type="submit" class="btn btn-primary mt-3" test-id="changePassword">@HtmlLocalizer["Change Password"]</button>
</form>