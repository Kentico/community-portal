<?xml version="1.0" encoding="utf-8"?>
<cms.contentitemcommondata>
  <BasicItemShortDescription>
    <![CDATA[Learn how to use ASP.NET Core Razor components with custom autoresponder emails in Xperience by Kentico to create developer-managed, strongly-typed, templated emails.]]>
  </BasicItemShortDescription>
  <BasicItemTitle>Custom Autoresponder Emails with Razor Components</BasicItemTitle>
  <ContentItemCommonDataContentItemID>
    <CodeName>CustomAutoresponderEmailsWithRazorComponents-b8avq1q1</CodeName>
    <GUID>f4ec0575-a16a-488e-85ff-85cd8bc73ad9</GUID>
    <ObjectType>cms.contentitem</ObjectType>
  </ContentItemCommonDataContentItemID>
  <ContentItemCommonDataContentLanguageID>
    <CodeName>en-US</CodeName>
    <GUID>6c743a9e-8a63-425b-bef6-756c12c1bbf5</GUID>
    <ObjectType>cms.contentlanguage</ObjectType>
  </ContentItemCommonDataContentLanguageID>
  <ContentItemCommonDataFirstPublishedWhen>2024-03-08 01:08:48Z</ContentItemCommonDataFirstPublishedWhen>
  <ContentItemCommonDataGUID>22e2f8d5-b374-40e2-b59c-82bf4f01cc78</ContentItemCommonDataGUID>
  <ContentItemCommonDataIsLatest>True</ContentItemCommonDataIsLatest>
  <ContentItemCommonDataLastPublishedWhen>2025-06-12 23:39:22Z</ContentItemCommonDataLastPublishedWhen>
  <ContentItemCommonDataVersionStatus>2</ContentItemCommonDataVersionStatus>
  <ContentItemCommonDataVisualBuilderTemplateConfiguration>
    <![CDATA[{"identifier":"KenticoCommunity.BlogPostPage_Components","properties":{},"fieldIdentifiers":{}}]]>
  </ContentItemCommonDataVisualBuilderTemplateConfiguration>
  <ContentItemCommonDataVisualBuilderWidgets>
    <![CDATA[{"editableAreas":[{"identifier":"main","sections":[{"identifier":"b45293d2-45ab-4834-87d8-6e74972ada96","type":"CommunityPortal.SingleColumnSection","properties":{"layout":"Standard","layoutParsed":0,"paddingTop":"Large","paddingTopParsed":0,"paddingBottom":"Large","paddingBottomParsed":0,"backgroundColor":"White","backgroundColorParsed":1},"zones":[{"identifier":"fbbca4c1-17f7-4768-ae19-db5499e4d233","widgets":[{"identifier":"d5854463-acb6-4c70-ad8d-52b8306d3173","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"5a68e084-649e-46cc-a673-722c8539ba65","properties":{"markdown":"This post was written for Xperience by Kentico v28.3.0. Please [consult the documentation](https://docs.xperience.io/xp/changelog) for any feature or API changes when using a different version. Be sure to check the [System Requirements](https://docs.xperience.io/x/DgKQC) in the product documentation.\n","markdownStyle":"Note","markdownStyleParsed":1,"markdownCodeLanguage":"","id":"c1f1d6ce-7b70-42ed-ae28-027e4273a146"},"fieldIdentifiers":{"markdown":"0505f777-67d7-4df2-b938-19682c18dd6c","markdownStyle":"0adb2520-94e5-434b-8972-40bfdf25abce","markdownStyleParsed":"cc7325c0-f608-42b2-a3b4-c2e7a8e02573","markdownCodeLanguage":"4e234a8e-5606-4dbb-b517-b3d3c8ce393e","id":"9d2854cc-d59e-45ca-9503-2aa82a0ffc3d"}}]},{"identifier":"9ef1838f-c52e-4e18-8190-00d1d13181f6","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"89bde4cb-2782-48af-b0ff-b1b5f363c59a","properties":{"markdown":"In Xperience by Kentico solutions, most autoresponder emails for Form Builder forms should be managed in an [Email channel](https://docs.kentico.com/x/eBT_Cw).\n\nBut, Xperience's Form Builder forms support [a custom autoresponder option](https://docs.kentico.com/x/_QiiCQ), with the following instructions:\n\n> Sends a custom autoresponder email prepared by developers. By default, the Custom autoresponder only contains a basic thank you message. To adjust the content, contact your project's developers or see the Custom form autoresponder emails documentation.\n\n<br />\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"3dbae4df-e275-4b20-a22e-c3dad267e81c"},"fieldIdentifiers":{"markdown":"06c48530-e36f-4715-940a-fa7a4128ef54","markdownStyle":"36b1b8c2-970c-49fb-bfc9-0f74ef86c208","markdownStyleParsed":"c3bbf2d3-0245-4082-9037-f7956883dc9b","markdownCodeLanguage":"0ff8f800-6382-4662-ba98-3320925d6115","id":"2c24882a-652c-4b6d-a9db-049c0814ad5c"}}]},{"identifier":"b0acca18-293a-4595-a323-fe512a4a9810","type":"CommunityPortal.ImageWidget","variants":[{"identifier":"626ccac1-8620-4c61-a426-9339163e521b","properties":{"selectedImages":[{"identifier":"92f91035-dd1a-4a90-a208-c80ea14e0439"}],"alignment":"Center","alignmentParsed":1,"size":"Full_Width","sizeParsed":3,"showDescriptionAsCaption":false,"linkToFullsizeImage":true,"id":"02146109-2cbf-4c9a-9435-c6df93fa39b4"},"fieldIdentifiers":{"selectedImages":"da68346d-95d4-4e02-a5bf-99eece13504e","alignment":"5bbf8de0-cae6-403b-a1f4-506a6f7458f3","alignmentParsed":"54e239bc-5b6a-4571-a2c3-64a1cccb8c60","size":"1bac532e-3c7a-4ff5-919a-fad7d4cc03d9","sizeParsed":"55d3907e-f641-479a-8405-4c67ace671d7","showDescriptionAsCaption":"e88a2778-06ec-470c-8076-22c593f1f3ab","linkToFullsizeImage":"3e9d8145-ea66-412c-ab57-ea04c7d88d7b","id":"bb66272f-de55-4c87-8637-eec993b4f0bb"}}]},{"identifier":"2a6bbb1b-078f-4437-9ae2-54bdbfff07d9","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"2acc1001-b35b-4165-b62d-ca8497b060dd","properties":{"markdown":"These \"developer managed\" autoresponder emails don't provide a way for marketers to manage the email content, but they do let\ndevelopers fully customize them in ways that aren't available through email channels.\n\nFor example, this approach could be used when we need to send a confirmation of the form submission to different recipients depending on the content of the email or insert some dynamic (form value dependent) content into the email.\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"e45f5618-3b72-4864-9f41-a26eb5eb4532"},"fieldIdentifiers":{"markdown":"842bc0ca-4d29-446b-b90c-2d1ca0b38c3c","markdownStyle":"fe84ed3b-5986-4950-a48a-e2f1ec38080d","markdownStyleParsed":"d96f807c-47d8-4c7f-8da2-bc1f97c94d40","markdownCodeLanguage":"786cda74-18e6-4597-9ac1-5d83f7abf893","id":"5269df5d-eaee-4f7e-90c2-4fc5313df5e2"}}]},{"identifier":"2e9ee22e-3fa7-43ed-b6ed-9ca4a57f3a98","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"f51a9510-cddf-407c-a98b-6ec6311c83cb","properties":{"markdown":"This kind of email marketing customization will be possible in a marketer-friendly way with some of [the features we have on our roadmap](https://roadmap.kentico.com/c/169-automate-the-delivery-of-experiences-to-customers).\n","markdownStyle":"Note","markdownStyleParsed":1,"markdownCodeLanguage":"","id":"a5854202-b628-4080-8786-904651060434"},"fieldIdentifiers":{"markdown":"fa2e10d7-2cce-45c2-9741-6f1409dfbd07","markdownStyle":"34dda8f0-c361-4a1f-9081-24f40942fc4c","markdownStyleParsed":"0f8ed69b-f075-4935-8deb-e12482974eb2","markdownCodeLanguage":"5a8b1442-e827-4012-80af-f6850f5fbcfa","id":"b7a9879a-49d9-4540-8caa-3be7047b8f0d"}}]},{"identifier":"ae04570b-b2e7-4783-b034-2d08ddb9a9be","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"b115da47-3873-4a45-bdc1-f63b1b8f43b2","properties":{"markdown":"To take this custom path and implement the autoresponder email in code, developers must implement an `IFormSubmitAutomationEmailProvider`.\n\n```CSharp\n[assembly: RegisterImplementation(\n    implementedType: typeof(IFormSubmitAutomationEmailProvider), \n    implementation: typeof(EmailAutoresponderProvider))]\n\nnamespace DancingGoat;\n\npublic class EmailAutoresponderProvider(\n    IFormSubmitAutomationEmailProvider defaultProvider) \n    : IFormSubmitAutomationEmailProvider\n{\n    private readonly IFormSubmitAutomationEmailProvider defaultProvider = defaultProvider;\n\n    public async Task<AutomationEmail> GetEmail(BizFormInfo form, BizFormItem formData, ContactInfo contact)\n    {\n        await defaultProvider.GetEmail(form, formData, contact);   \n    }\n}\n```\n\n<br />\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"140edaed-11e6-4332-a5f9-9b490a054917"},"fieldIdentifiers":{"markdown":"7ef610a9-afda-4fcf-a785-3138399a4fff","markdownStyle":"00327237-afa5-48b0-8f92-ab3fb4dde76a","markdownStyleParsed":"7eccece4-a0a3-421a-ad33-94fda3d282d8","markdownCodeLanguage":"f494cee8-81b9-4779-a9d3-0d8fecfe7796","id":"7f757c62-deb5-4360-80dc-4c078582b262"}}]},{"identifier":"7815ae52-e95f-4628-8bdf-63b26d7da21f","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"c84ff4d4-36f9-42b5-93a7-81170fb2fd35","properties":{"markdown":"The constructor injected `IFormSubmitAutomationEmailProvider` is the default one that Xperience provides for us which\nsends a simple, standard message. We'll always want to replace this with our own custom implementation, but it's\na convenient fallback.\n\nSince we're in C# here, there's a tendancy to author the `AutomationEmail.Body` as a C# `string`. This is less than ideal.\n\n```CSharp\npublic async Task<AutomationEmail> GetEmail(BizFormInfo form, BizFormItem formData, ContactInfo contact)\n{\n    var email = new AutomationEmail\n    {\n        Subject = \"Thanks for contacting us\",\n        Body = $\"Hello {contact.ContactFirstName}, <br />\" +\n            \"thank you for contacting us. You sent us the following message:<br />\" +\n            formData.GetStringValue(\"UserMessage\", \"\"),\n        Sender = \"no-reply@company.com\",\n        Recipients = [contact.ContactEmail]\n    };\n\n    return Task.FromResult(email);  \n}\n```\n\n<br />\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"fc4fb540-8d05-46fb-b5d5-1a884dc41289"},"fieldIdentifiers":{"markdown":"ebc2a29a-9916-438a-9ab2-009848ff205d","markdownStyle":"c4adfd5f-4a10-48e0-a955-e0e759d9d3fe","markdownStyleParsed":"70063dbe-7d60-4d9c-bc5e-7f521082d4da","markdownCodeLanguage":"2f7e8d16-ca24-4f45-ac29-06bde1f6b7e6","id":"853421d8-ef9d-4e36-9137-999471cbf17b"}}]},{"identifier":"8a6ba48d-e071-4b5f-acac-fd22d93068ef","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"89d66534-4fa6-4430-9ee3-414145f853df","properties":{"markdown":"This is pretty limiting and difficult to validate if we have an email template that includes all the ugly parts that\nare required for HTML emails.\n\nHowever, we can use other technologies to author the email template, making it more readable. If we use ASP.NET Core Razor components, and [render them outside of a ASP.NET Core HTTP request](https://learn.microsoft.com/en-us/aspnet/core/blazor/components/render-components-outside-of-aspnetcore?view=aspnetcore-8.0), we can even make the template composed from a hierarchry of reusable components.\n\nLet's see how!\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"19be16c9-feb3-4f66-9dd4-e6c5544eebae"},"fieldIdentifiers":{"markdown":"5a615887-ef07-4709-9277-720a8bf8d7f0","markdownStyle":"4ca31dd2-aca6-4db2-bddf-59215dfd12f8","markdownStyleParsed":"71539de3-1343-4bdb-8430-6b6c3fc1091c","markdownCodeLanguage":"884c5ac1-4a1c-4a06-bc58-e112ca82e868","id":"03164cf5-336c-4f17-8d3e-b27d527ee12e"}}]},{"identifier":"ba98a67e-df8f-488d-a315-861fc32a4be2","type":"CommunityPortal.HeadingWidget","variants":[{"identifier":"aa07cbed-142a-42b7-8f50-05db42b83273","properties":{"headingText":"Razor components","headingLevel":"H2","headingLevelsParsed":1,"headingAlignment":"Left","headingAlignmentsParsed":0,"showHeadingAnchor":true,"id":"05910d12-d9da-44e1-a0e9-49a687a4c0eb"},"fieldIdentifiers":{"headingText":"ee47c9ce-5691-4c02-8f4e-82a126e8d0ba","headingLevel":"dfa5a97b-d8a9-4774-9160-018b48ba944e","headingLevelsParsed":"cc77f1c7-34c5-4374-a854-aff8f358f407","headingAlignment":"6ce63a81-7a41-438c-afd5-5f5c88b91116","headingAlignmentsParsed":"72a9716e-e072-4363-a5bc-08f3e90640a4","showHeadingAnchor":"461c8992-a036-45d5-b8e6-6dfed8819472","id":"84f38da1-2e5c-4eb6-afd7-751df92d966f"}}]},{"identifier":"abde87dc-70c6-4db7-ab35-af97f3a3021c","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"59633e47-3a3d-4b75-b072-c32e272811dd","properties":{"markdown":"First, we'll make a very simple Razor component in our ASP.NET Core project. You can add this wherever you want in your project,\nbut the namespace for the component will automatically be set as the filesystem path to the file.\n\n```HTML\n@* ContactUsEmailTemplateComponent.razor *@\n\n@using CMS.ContactManagement\n\n<h1>Thanks for contacting us</h1>\n\n<p>@Contact.ContactFirstName, thank you for contacting us.</p>\n\n@code {\n    [Parameter]\n    public ContactInfo Contact { get; set; }\n}\n```\n\n<br />\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"3c708ad6-9db2-4953-b51f-92a20590f393"},"fieldIdentifiers":{"markdown":"c3546989-3c3d-4ba4-8011-54180426566d","markdownStyle":"6c0a62e8-535f-49a3-8579-a5f4a92ef487","markdownStyleParsed":"f6d70467-9b8d-42c3-80f1-b9d1f429dc82","markdownCodeLanguage":"f4a1a3b3-6a38-4877-87a9-2ba53c977307","id":"2b3eec3a-6eff-41f8-8b35-063134646e5e"}}]},{"identifier":"1125257e-4601-4f80-bc33-5da87c6bc2d6","type":"CommunityPortal.HeadingWidget","variants":[{"identifier":"8941d877-1f26-4b7a-ab46-1aedc41a7c19","properties":{"headingText":"Component rendering","headingLevel":"H2","headingLevelsParsed":1,"headingAlignment":"Left","headingAlignmentsParsed":0,"showHeadingAnchor":true,"id":"a1d516bd-37f3-45a1-904d-f535814fe162"},"fieldIdentifiers":{"headingText":"cafe4202-c09e-471f-b945-6d263ffc71b7","headingLevel":"06be406d-5a1b-4d01-9175-15b64d9833bc","headingLevelsParsed":"e4428456-23b6-4a59-ab99-60c203b4f635","headingAlignment":"d3d4a29c-434c-4762-bb20-dfbe743789e9","headingAlignmentsParsed":"6262e45b-18b5-45a0-874c-f37dc08d2cfc","showHeadingAnchor":"4ca95e8a-7778-479a-8fb3-8815e035ef80","id":"f89f7093-0be5-4108-939b-2d5dbf2ed7bd"}}]},{"identifier":"4209252a-4c00-435d-a4c8-1454eb1f43f0","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"97e0f37d-8fe4-43b4-944d-3f03a2388a81","properties":{"markdown":"We'll be specifying the \"custom\" option for the autoresponder for a specific form. We should generate the C# classes\nfor that form to make our code more robust.\n\nWe can see [how to do this for forms](https://docs.kentico.com/developers-and-admins/api/generate-code-files-for-system-objects#generate-code-files) in the Xperience documentation.\n\nOnce the form class is generated, we can create a new \"partial\" class for the form to extend it. That's where we'll add\nthe email creation logic.\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"1054fbeb-0759-4ece-9b19-2e285143f9f6"},"fieldIdentifiers":{"markdown":"cdc7d1ad-af63-413e-b257-6efe782312c4","markdownStyle":"6f095ea7-1cde-4bd0-bb0e-5e78cf01b1cc","markdownStyleParsed":"1d4b2f54-bed1-4bde-bbba-c89473c0eb46","markdownCodeLanguage":"7244cdcf-a194-4b6b-8f79-a1a5af9d1b21","id":"294ae0df-366f-46e1-b1d4-4f072c1d0661"}}]},{"identifier":"0729fb13-28dd-44f2-8708-f42b0907a0b4","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"7275712c-830e-47b7-9010-7c1a6b96d509","properties":{"markdown":"In this example I'm using the Dancing Goat \"Contact Us\" form and creating a `DancingGoatContactUsItem.cs` file along side the `DancingGoatContactUs.generated.cs` file that is generated.\n","markdownStyle":"Note","markdownStyleParsed":1,"markdownCodeLanguage":"","id":"5aa3f2fe-c91b-42cd-baca-16e8630cf755"},"fieldIdentifiers":{"markdown":"2fe3b300-3907-4eb1-9fe8-297ef6484e0c","markdownStyle":"f490d250-ddb8-40f6-ac86-d882223a6c02","markdownStyleParsed":"31cb03ab-b512-4c58-a1e3-c7e6396744d8","markdownCodeLanguage":"1c1da3bb-b18c-4391-85f1-12deb309306c","id":"759cd2ef-fa12-40db-8e34-44d1c7378260"}}]},{"identifier":"38029c2a-e885-44ae-a07d-83a5bc69841c","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"6ef31f31-8b52-4ddf-ba5e-030df61af657","properties":{"markdown":"```CSharp\npublic partial class DancingGoatContactUsItem\n{\n    public static async Task<AutomationEmail> GenerateAutoresponderEmail(\n        IServiceProvider serviceProvider,\n        ILoggerFactory loggerFactory,\n        ContactInfo contact)\n    {\n        using var scope = serviceProvider.CreateScope();\n        await using var htmlRenderer = new HtmlRenderer(scope.ServiceProvider, loggerFactory);\n\n        string html = await htmlRenderer.Dispatcher.InvokeAsync(async () =>\n        {\n            var dictionary = new Dictionary<string, object?>\n            {\n                // Reference to the Razor component type's properties to ensure we get the property name right\n                { nameof(ContactUsEmailTemplateComponent.Contact), contact }\n            };\n\n            var parameters = ParameterView.FromDictionary(dictionary);\n            var output = await htmlRenderer.RenderComponentAsync<ContactUsEmailTemplateComponent>(parameters);\n\n            return output.ToHtmlString();\n        });\n\n        return new AutomationEmail\n        {\n            Subject = \"Thanks for contacting us\",\n            Body = html,\n            Sender = \"no-reply@company.com\",\n            Recipients = [contact.ContactEmail]\n        };\n    }\n}\n```\n\n<br />\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"47d9ce9d-4132-4f94-b3a2-126e04ff0f43"},"fieldIdentifiers":{"markdown":"4f3bd8e3-defe-4c59-9b11-5e8d573c86c0","markdownStyle":"15727e65-3856-4f84-9144-ac18e5cb106b","markdownStyleParsed":"9a49cd57-1841-480b-8767-35dcb2e6e986","markdownCodeLanguage":"5ea72d50-235b-45a8-9e59-27a7d3c42a38","id":"8f84afa8-44bf-4164-93fd-bf51bd4daada"}}]},{"identifier":"cda7cfad-3486-4856-ad48-db7578051347","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"8fa2fe85-c010-416f-8063-bfd4d71ba2f0","properties":{"markdown":"ASP.NET Core 8.0 does the heavy lifting here, allowing us to render the Razor component (and any children it has) as a string.\nWe can then set this string as the HTML body of the `AutomationEmail` we need to create and return.\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"4b3729e7-923d-4695-83df-0b75267fe123"},"fieldIdentifiers":{"markdown":"29d12cf7-71f4-4414-8e5e-fb1944bb324a","markdownStyle":"2e9b8312-19c4-41b8-accb-34c47e7e0985","markdownStyleParsed":"ddaf914b-60ef-48bf-82c0-5106b0ef9d6f","markdownCodeLanguage":"c60c684d-aec2-4831-b94d-6396788aaadb","id":"89cf2857-1e03-463f-b466-ca84c6f2cdf8"}}]},{"identifier":"9c94689c-37d8-4598-a8ed-30aa2d9e5ba1","type":"CommunityPortal.HeadingWidget","variants":[{"identifier":"b9615df3-101d-4d4f-a90e-08df0488e30e","properties":{"headingText":"Custom AutoresponderEmailProvider","headingLevel":"H2","headingLevelsParsed":1,"headingAlignment":"Left","headingAlignmentsParsed":0,"showHeadingAnchor":true,"id":"b777c8d1-527b-449f-b3e4-a59526f67f55"},"fieldIdentifiers":{"headingText":"a4c9b067-e033-4089-a5cc-b9c06ac76df5","headingLevel":"b0741872-740a-4e66-9bfc-3ec18787581b","headingLevelsParsed":"dc36dc51-827f-4a25-aaba-c6faf7416fc8","headingAlignment":"a282083b-e7e4-47bd-842c-81211165d908","headingAlignmentsParsed":"63808ea0-ded5-44b7-b3d7-939417be00e9","showHeadingAnchor":"af2d4a1d-d5bf-47f4-952c-f68c786fa975","id":"4e3d598d-878a-4d32-82c3-22ba51ecd1b1"}}]},{"identifier":"ad28212f-832d-4d0c-9e13-14d5dda36eec","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"c34d2e95-3738-4bbe-883c-56991ccaf0e0","properties":{"markdown":"Finally, we create a `IFormSubmitAutomationEmailProvider` that can determine how we create the `AutomationEmail` based on the\nname of the form the form submission came from.\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"5799485c-2a8f-4042-b9ab-893b8e8ef9d9"},"fieldIdentifiers":{"markdown":"9209fa13-b0a1-43a9-a363-2e6e6cc7d011","markdownStyle":"ba55f997-f5a6-4d6c-9823-66f340ed1bb6","markdownStyleParsed":"75b2fa78-dd98-400d-a18c-e1525493132c","markdownCodeLanguage":"9444c94d-935b-4d87-9a10-b5d0e7ca5779","id":"a1857f5d-e069-4fa1-8604-3b71fe3c6ce5"}}]},{"identifier":"1cc5ac68-c650-4774-b424-08167ebf3627","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"73a6a70f-5031-4639-9697-b293496e67e9","properties":{"markdown":"If we have multiple forms using the \"custom\" autoresponder option, we can handle all of them here by generating their C# classes\nand adding them to the `switch` expression.\n\n```\n[assembly: RegisterImplementation(\n    implementedType: typeof(IFormSubmitAutomationEmailProvider), \n    implementation: typeof(RazorEmailAutoresponderProvider))]\n\nnamespace DancingGoat;\n\npublic class RazorEmailAutoresponderProvider(\n    IFormSubmitAutomationEmailProvider defaultAutomationEmailProvider,\n    IServiceProvider serviceProvider,\n    ILoggerFactory loggerFactory) : IFormSubmitAutomationEmailProvider\n{\n    private readonly IFormSubmitAutomationEmailProvider defaultAutomationEmailProvider = defaultAutomationEmailProvider;\n    private readonly IServiceProvider serviceProvider = serviceProvider;\n    private readonly ILoggerFactory loggerFactory = loggerFactory;\n\n    public async Task<AutomationEmail> GetEmail(BizFormInfo form, BizFormItem formData, ContactInfo contact)\n    {\n        if (string.IsNullOrEmpty(contact.ContactEmail))\n        {\n            return null;\n        }\n\n        return form.FormName switch\n        {\n            DancingGoatContactUsItem.CLASS_NAME =>\n                await DancingGoatContactUsItem.GenerateAutoresponderEmail(serviceProvider, loggerFactory, contact),\n            _ =>\n                await defaultAutomationEmailProvider.GetEmail(form, formData, contact)\n        };\n    }\n}\n```\n\n<br />\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"8e190ea1-a740-41e0-a720-c066a2e7e6b8"},"fieldIdentifiers":{"markdown":"33ca6182-5ccc-498d-9f38-480201020846","markdownStyle":"4e52c5e9-bdd3-4004-9e2a-4b208cbb4364","markdownStyleParsed":"59571874-d328-4597-bfe1-4339510a5abd","markdownCodeLanguage":"2eb5a043-fe4b-442e-9729-941833465fa1","id":"ef2f0445-8f52-4e2c-8c95-13cdee524b47"}}]},{"identifier":"c24a8e26-efa3-4a4f-98ed-4d0f45c290b8","type":"CommunityPortal.HeadingWidget","variants":[{"identifier":"7f0951ac-64ef-4b08-abfd-36c74039f7d8","properties":{"headingText":"Email rendering","headingLevel":"H2","headingLevelsParsed":1,"headingAlignment":"Left","headingAlignmentsParsed":0,"showHeadingAnchor":true,"id":"0012ac21-ee76-42de-880a-dcf8dd169d13"},"fieldIdentifiers":{"headingText":"cd3ea0bb-300e-46a3-936f-fcab08b3158a","headingLevel":"036fc0ef-8657-4b99-8f6a-3d652e98d0fa","headingLevelsParsed":"73e551d9-1347-4974-af47-0839c6068a4d","headingAlignment":"f63f701d-eca0-4b56-8877-a7e47dea85a1","headingAlignmentsParsed":"665711a6-dbfd-4c16-bc12-8e11dd328526","showHeadingAnchor":"4707d08f-8aff-4708-9609-e1d2b24a0466","id":"478beb0f-cbad-4b46-9bc6-88efb360b053"}}]},{"identifier":"fb66af50-6530-4520-b937-6ed695848568","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"6beba6c4-3c1e-4aca-8365-6b3705210112","properties":{"markdown":"When we fill out the form and submit, we'll be able to see our email rendered in the email queue.\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"612c62c5-7b30-45b5-a041-4228b849f1eb"},"fieldIdentifiers":{"markdown":"475bb2cb-8d3f-4806-a0cf-afb30e417fee","markdownStyle":"3eafb362-65fa-4921-a6d9-3ba2532af5d1","markdownStyleParsed":"ee9d2f2f-3902-465a-bdca-d00ea6ef715b","markdownCodeLanguage":"0cfa59b0-37b0-463d-8df1-bde563a660fd","id":"376bd5ff-a668-48ba-bc53-1e22713e43e6"}}]},{"identifier":"c7185b04-b7da-4741-bc40-f835f022b9a0","type":"CommunityPortal.ImageWidget","variants":[{"identifier":"9dfc49ff-35cf-4ff0-bec5-9ea9493d554f","properties":{"selectedImages":[{"identifier":"19d8c006-b170-4ffd-b823-20ed2eac9e50"}],"alignment":"Center","alignmentParsed":1,"size":"Full_Width","sizeParsed":3,"showDescriptionAsCaption":false,"linkToFullsizeImage":true,"id":"2d095cbe-7b25-46f0-ab4c-87b7f52cc7d9"},"fieldIdentifiers":{"selectedImages":"74a41412-88c0-4267-8ea4-d6c740df0c26","alignment":"f10fdb54-f428-487e-8d31-58a7107c6f7f","alignmentParsed":"84e042e8-c3b8-4ded-9af3-dc83d7742928","size":"1b6fd403-2340-439a-88a3-3ca152ff8d75","sizeParsed":"e2fc4aaa-0d4d-48ed-92cf-dad04b591d44","showDescriptionAsCaption":"d84bd68c-b660-41ce-94a7-d31058ad35b6","linkToFullsizeImage":"562d102b-82e0-4658-a561-dfb54b447467","id":"90641e80-80a2-47fc-967d-ddd7dc9f74b1"}}]},{"identifier":"b1b30944-18f7-4e10-b827-0c0981645ace","type":"CommunityPortal.ImageWidget","variants":[{"identifier":"650f5c08-8b59-4dc5-8691-853976859efa","properties":{"selectedImages":[{"identifier":"dbe37e64-f310-4e5d-99b6-6f32213d67bd"}],"alignment":"Center","alignmentParsed":1,"size":"Full_Width","sizeParsed":3,"showDescriptionAsCaption":false,"linkToFullsizeImage":true,"id":"780183bf-c7c5-4c9e-b6f4-cb7b228348d2"},"fieldIdentifiers":{"selectedImages":"0b5a88ea-e4d5-466b-a3ac-9941cc314a5c","alignment":"79100b11-ddb4-44c6-820f-7bf006206494","alignmentParsed":"8a71c42f-12a3-41fd-afa3-29cb2422af04","size":"f1af4c92-ea1b-4f9d-9792-d1d8ad4b0b10","sizeParsed":"d486d9dc-1ff1-4e91-bf17-1fbaee7f10b1","showDescriptionAsCaption":"387cb137-1603-4427-a1fd-5ee051785aa6","linkToFullsizeImage":"658191fd-f013-4ed0-8174-a90cd5f0502d","id":"e2a14a69-6993-43b3-a2f0-b3278a822d54"}}]},{"identifier":"86d54b61-e1dd-42a8-ae5f-b0f784cb65ee","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"afd79438-f7ef-4112-a1bb-79d55e52a780","properties":{"markdown":"We use the power of Razor in our Razor components to templatize the content and do things like loops and conditionals.\n\nIt should be noted that loops and conditionals [are possible in K#](https://docs.kentico.com/x/AaDWCQ), which is the syntax used for [authoring Email templates](https://docs.kentico.com/x/eRT_Cw) used by Emails created by marketers. We should first try to create the emails and templates through [Email channels](https://docs.kentico.com/x/eBT_Cw) because they enable marketers to author and customize email content without developers.\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"d2c53015-eb48-4cc9-8f91-e6a915b65809"},"fieldIdentifiers":{"markdown":"126b84b0-645c-431b-a447-5be2b5b6dbaa","markdownStyle":"2e85c838-d0a2-45fd-a55d-80eb641028b0","markdownStyleParsed":"dfd06959-95a6-46a3-b4c0-61e85eb0f8e8","markdownCodeLanguage":"eba6dee9-90ba-4420-bef4-2025a9dc69e6","id":"32855b3d-fb0d-4137-9d0b-9f2eec63ecad"}}]}]}],"fieldIdentifiers":{"layout":"8a29828c-22bc-4530-98f3-8d0e7b00cb48","layoutParsed":"c32623b5-9658-4746-87e7-c6854be35645","paddingTop":"4b2395ff-5cf3-4890-8123-08c58ffa165b","paddingTopParsed":"93e8e115-4448-4521-8dd6-ccf5d836fdd2","paddingBottom":"7ba6a865-5ac5-4db5-962b-34da3e382c65","paddingBottomParsed":"d352ee16-4c5f-4f4e-941d-5122290007cd","backgroundColor":"6a3b65df-bd66-4724-9bfc-be12cf1684f4","backgroundColorParsed":"464d0657-acdb-41fe-a89a-82887bb2ab3c"}}]}]}]]>
  </ContentItemCommonDataVisualBuilderWidgets>
  <CoreTaxonomyDXTopics>
    <![CDATA[[{"Identifier":"b1318d81-f9d8-4cec-9590-23d622daf9d6"},{"Identifier":"e89f195c-fcea-4d3a-836f-c78c1e6b3bfe"},{"Identifier":"6ad7092e-2b5b-4dc6-a89c-37d4c38df71e"},{"Identifier":"5a35a368-37fb-4fce-999f-2dca9b9c7277"},{"Identifier":"55f4d13a-2b1f-4c3d-9f7b-552b3eda78f1"}]]]>
  </CoreTaxonomyDXTopics>
  <WebPageCanonicalURL />
  <WebPageMetaExcludeFromSitemap>False</WebPageMetaExcludeFromSitemap>
  <WebPageMetaRobots />
  <WebPageMetaShortDescription>
    <![CDATA[Learn how to use ASP.NET Core Razor components with custom autoresponder emails in Xperience by Kentico to create developer-managed, strongly-typed, templated emails.]]>
  </WebPageMetaShortDescription>
  <WebPageMetaTitle>Custom Autoresponder Emails with Razor Components</WebPageMetaTitle>
  <ContentItemReferences>
    <cms.contentitemreference>
      <ContentItemReferenceGroupGUID>baef8e96-a792-478c-a9dc-1929378ccbac</ContentItemReferenceGroupGUID>
      <ContentItemReferenceGUID>5d15848d-8c0f-4720-99eb-30fd63b431de</ContentItemReferenceGUID>
      <ContentItemReferenceSourceCommonDataID>
        <GUID>22e2f8d5-b374-40e2-b59c-82bf4f01cc78</GUID>
        <ObjectType>cms.contentitemcommondata</ObjectType>
      </ContentItemReferenceSourceCommonDataID>
      <ContentItemReferenceTargetItemID>
        <CodeName>SeanG.Wright-age8tkbp</CodeName>
        <GUID>f9ac36a5-e1a6-4d21-9cb7-beb385d0fea0</GUID>
        <ObjectType>cms.contentitem</ObjectType>
      </ContentItemReferenceTargetItemID>
    </cms.contentitemreference>
    <cms.contentitemreference>
      <ContentItemReferenceGroupGUID>0b5a88ea-e4d5-466b-a3ac-9941cc314a5c</ContentItemReferenceGroupGUID>
      <ContentItemReferenceGUID>908b75a2-ec78-40de-b526-70ac8b888db4</ContentItemReferenceGUID>
      <ContentItemReferenceSourceCommonDataID>
        <GUID>22e2f8d5-b374-40e2-b59c-82bf4f01cc78</GUID>
        <ObjectType>cms.contentitemcommondata</ObjectType>
      </ContentItemReferenceSourceCommonDataID>
      <ContentItemReferenceTargetItemID>
        <CodeName>Email-rendering-8zrmw4r3</CodeName>
        <GUID>dbe37e64-f310-4e5d-99b6-6f32213d67bd</GUID>
        <ObjectType>cms.contentitem</ObjectType>
      </ContentItemReferenceTargetItemID>
    </cms.contentitemreference>
    <cms.contentitemreference>
      <ContentItemReferenceGroupGUID>da68346d-95d4-4e02-a5bf-99eece13504e</ContentItemReferenceGroupGUID>
      <ContentItemReferenceGUID>b97499a4-c552-4f31-afca-836f924430a6</ContentItemReferenceGUID>
      <ContentItemReferenceSourceCommonDataID>
        <GUID>22e2f8d5-b374-40e2-b59c-82bf4f01cc78</GUID>
        <ObjectType>cms.contentitemcommondata</ObjectType>
      </ContentItemReferenceSourceCommonDataID>
      <ContentItemReferenceTargetItemID>
        <CodeName>Custom-form-autoresponder-option-bb5klec3</CodeName>
        <GUID>92f91035-dd1a-4a90-a208-c80ea14e0439</GUID>
        <ObjectType>cms.contentitem</ObjectType>
      </ContentItemReferenceTargetItemID>
    </cms.contentitemreference>
    <cms.contentitemreference>
      <ContentItemReferenceGroupGUID>74a41412-88c0-4267-8ea4-d6c740df0c26</ContentItemReferenceGroupGUID>
      <ContentItemReferenceGUID>a31e991f-d27f-455d-8cbd-3330b10e0ef5</ContentItemReferenceGUID>
      <ContentItemReferenceSourceCommonDataID>
        <GUID>22e2f8d5-b374-40e2-b59c-82bf4f01cc78</GUID>
        <ObjectType>cms.contentitemcommondata</ObjectType>
      </ContentItemReferenceSourceCommonDataID>
      <ContentItemReferenceTargetItemID>
        <CodeName>Form-submission-olixn9r1</CodeName>
        <GUID>19d8c006-b170-4ffd-b823-20ed2eac9e50</GUID>
        <ObjectType>cms.contentitem</ObjectType>
      </ContentItemReferenceTargetItemID>
    </cms.contentitemreference>
    <cms.contentitemreference>
      <ContentItemReferenceGroupGUID>9a93d64c-5cc7-47f0-94e8-f7b3cc48946e</ContentItemReferenceGroupGUID>
      <ContentItemReferenceGUID>3f0babfd-9cd7-4e21-bf21-eb1fd331075e</ContentItemReferenceGUID>
      <ContentItemReferenceSourceCommonDataID>
        <GUID>22e2f8d5-b374-40e2-b59c-82bf4f01cc78</GUID>
        <ObjectType>cms.contentitemcommondata</ObjectType>
      </ContentItemReferenceSourceCommonDataID>
      <ContentItemReferenceTargetItemID>
        <CodeName>CustomAutoresponderEmailsWithRazorComponents-5lruv592</CodeName>
        <GUID>39dacd75-089e-4cdc-ac7f-ed33993a7362</GUID>
        <ObjectType>cms.contentitem</ObjectType>
      </ContentItemReferenceTargetItemID>
    </cms.contentitemreference>
  </ContentItemReferences>
</cms.contentitemcommondata>