<?xml version="1.0" encoding="utf-8"?>
<cms.contentitemcommondata>
  <BasicItemShortDescription>
    <![CDATA[Modern DXP solutions are ever evolving, and Xperience by Kentico is no different. How can teams manage changes in content models that require breaking changes without impacting business continuity and manage growing system complexity?]]>
  </BasicItemShortDescription>
  <BasicItemTitle>
    <![CDATA[Safely evolving a content model with Expand and Contract]]>
  </BasicItemTitle>
  <ContentItemCommonDataContentItemID>
    <CodeName>SafelyEvolvingAContentModelWithExpandAndContract-7qsmr24e</CodeName>
    <GUID>fb5a14f8-2cc2-4535-bab7-fd8d3dce2392</GUID>
    <ObjectType>cms.contentitem</ObjectType>
  </ContentItemCommonDataContentItemID>
  <ContentItemCommonDataContentLanguageID>
    <CodeName>en-US</CodeName>
    <GUID>6c743a9e-8a63-425b-bef6-756c12c1bbf5</GUID>
    <ObjectType>cms.contentlanguage</ObjectType>
  </ContentItemCommonDataContentLanguageID>
  <ContentItemCommonDataFirstPublishedWhen>2024-03-22 23:57:00Z</ContentItemCommonDataFirstPublishedWhen>
  <ContentItemCommonDataGUID>50693d2c-c2a8-4c0f-8b65-4dc9d0aba9c8</ContentItemCommonDataGUID>
  <ContentItemCommonDataIsLatest>True</ContentItemCommonDataIsLatest>
  <ContentItemCommonDataLastPublishedWhen>2025-06-12 23:39:23Z</ContentItemCommonDataLastPublishedWhen>
  <ContentItemCommonDataVersionStatus>2</ContentItemCommonDataVersionStatus>
  <ContentItemCommonDataVisualBuilderTemplateConfiguration>
    <![CDATA[{"identifier":"KenticoCommunity.BlogPostPage_Components","properties":{},"fieldIdentifiers":{}}]]>
  </ContentItemCommonDataVisualBuilderTemplateConfiguration>
  <ContentItemCommonDataVisualBuilderWidgets>
    <![CDATA[{"editableAreas":[{"identifier":"main","sections":[{"identifier":"d9a54d79-86a3-4e32-9ba2-9130d7246460","type":"CommunityPortal.SingleColumnSection","properties":{"layout":"Standard","layoutParsed":0,"paddingTop":"Large","paddingTopParsed":0,"paddingBottom":"Large","paddingBottomParsed":0,"backgroundColor":"White","backgroundColorParsed":1},"zones":[{"identifier":"669b636f-0abf-474e-b3f5-a36c7f0a5a82","widgets":[{"identifier":"2f3fdc74-d2e5-400f-80b8-d6faa2048ee4","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"77a1e54f-8938-4e21-a07f-f3c3e581de79","properties":{"markdown":"Xperience by Kentico v28.4.0. Please [consult the documentation](https://docs.xperience.io/xp/changelog) for any feature or API changes when using a different version. Be sure to check the [System Requirements](https://docs.xperience.io/x/DgKQC) in the product\n","markdownStyle":"Note","markdownStyleParsed":1,"markdownCodeLanguage":"","id":"2b170162-9cad-410a-82b1-03cc78dddfaa"},"fieldIdentifiers":{"markdown":"78b33887-3fb2-4493-b487-5880cf691cc4","markdownStyle":"7314f83c-2e90-40c7-bf04-078de8b4dcb0","markdownStyleParsed":"349bd171-6c12-4bd1-99c6-1ae8d444ed31","markdownCodeLanguage":"1f6615cc-e9ae-4f38-994a-f3a2c03a0632","id":"06ce60d6-cc2d-4088-b1d3-c19a2468177b"}}]},{"identifier":"7094a3fe-84ae-49b9-8882-3a805050862c","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"177310f8-7eee-46bf-a9a6-ce6df8ab128c","properties":{"markdown":"Xperience by Kentico solutions are ever evolving organisms. The product itself evolves over time [with monthly Refreshes](https://roadmap.kentico.com/tabs/5-released), enabling marketers and developers with new features, integrating [marketing](https://roadmap.kentico.com/c/191-enhance-your-writing-instantly-ai-powered-rich-text-editor-for-smart-quick-content-transformation) and [technology trends](https://roadmap.kentico.com/c/180-leverage-net-8-when-building-websites-in-xperience-by-kentico).\n\nThe web platform, quarterly marketing strategy goals, technology stack changes and innovations - all of these initiate conversations that often lead to changes in a DXP solution.\n\nHow can developers manage an evolving solution that will inevitably have some breaking changes while maintaining business continuity 🤔? Can they do this without drowning in ever-growing system complexity 🙄?\n\nLet's consider some possibilities!\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"988feda5-8186-465c-9fa3-f9dce75f3f03"},"fieldIdentifiers":{"markdown":"337752d0-20c7-4528-9477-84831c5d1e9d","markdownStyle":"9dc9a2dc-78d4-457b-ad80-30a72f3a9e01","markdownStyleParsed":"09e7d03d-22ac-4f43-a892-85efdb94da96","markdownCodeLanguage":"3fcef912-47ab-4d43-af12-8e1f09fc533e","id":"35ea345f-c30c-46f8-ba76-da8ea710d569"}}]},{"identifier":"7b2a72a6-98b2-4473-a78e-fc7137d153a4","type":"CommunityPortal.HeadingWidget","variants":[{"identifier":"e0111276-4e1a-4efe-b492-1e765d0920d1","properties":{"headingText":"Evolving an Article content model","headingLevel":"H2","headingLevelsParsed":1,"headingAlignment":"Left","headingAlignmentsParsed":0,"showHeadingAnchor":true,"id":"d8b9a5a1-1a6b-4798-8fdb-7784626e373a"},"fieldIdentifiers":{"headingText":"628d9f87-45a0-4b86-a402-3689cad3a8f6","headingLevel":"869b2cbc-cd9e-49f4-a497-e620b5aa9699","headingLevelsParsed":"df726b09-b69b-4326-8123-71d03aaa73c3","headingAlignment":"d74e2c16-2245-4aaf-8323-5dc2f2b5fae4","headingAlignmentsParsed":"c000e655-97dd-4933-9e8e-e805d34fb710","showHeadingAnchor":"ebdb2cf6-7e35-49fc-8798-ab60a7b32a2a","id":"023f8d08-328d-45d7-9512-802a374130da"}}]},{"identifier":"cd2b55c7-6e00-4014-874c-564e2af1c2e6","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"43751f20-e467-4e56-a2af-64c77c84f248","properties":{"markdown":"To help understand the problem we're facing, let's use a real world scenario.\n\nImagine we have an `ArticlePage` web page content type with the following schema.\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"f29b5af7-1a04-47d1-b4d6-c61bd2ea6bc6"},"fieldIdentifiers":{"markdown":"e27f51ad-68ee-49d6-acee-58a601fa8711","markdownStyle":"885948c0-21ee-4358-b896-ed899e7d9ecd","markdownStyleParsed":"1c70e8f8-29c0-4320-b5bd-0b4098151b5d","markdownCodeLanguage":"4218deda-7d21-4227-88ec-36e0b44415e2","id":"5ec02190-3a87-4607-a46a-215db0b2f2cd"}}]},{"identifier":"3cbf1443-8aac-4aa3-9a59-414988b19b18","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"310ddd0a-9ba2-4638-b134-1911dc4810c6","properties":{"markdown":"If you want to follow along 👋 in your own solution, you can use the Dancing Goat project template [described in our installation documentation](https://docs.kentico.com/developers-and-admins/installation#available-project-templates).\n","markdownStyle":"Note","markdownStyleParsed":1,"markdownCodeLanguage":"","id":"5abf9409-5e75-479d-82a7-9056026a5954"},"fieldIdentifiers":{"markdown":"2c271b69-1416-4bd4-a6b9-f495c0403200","markdownStyle":"f5a2233a-3d4f-4238-8a15-a244474d27b9","markdownStyleParsed":"e310704f-885b-4dcd-911c-a4f485c121ea","markdownCodeLanguage":"73e07a57-54f6-432b-95f6-63140db036fa","id":"18270c31-ae18-4751-bcc8-81dd577ea1a9"}}]},{"identifier":"3ee1bda8-297b-405a-9c66-8fb6fb675dd3","type":"CommunityPortal.ImageWidget","variants":[{"identifier":"b4d04c4b-885c-47e5-9fbf-907ae5176601","properties":{"selectedImages":[{"identifier":"cb3541e4-79d3-48e6-93e6-5707f9a4e970"}],"alignment":"Center","alignmentParsed":1,"size":"Full_Width","sizeParsed":3,"showDescriptionAsCaption":false,"linkToFullsizeImage":true,"id":"db2bb79a-2c89-4f7d-a40f-5dda9b7997d3"},"fieldIdentifiers":{"selectedImages":"f97224bd-3b18-4ea3-9f68-930e9d956f6f","alignment":"b15222c5-7e2a-49aa-a5a0-b8e0408a2fe1","alignmentParsed":"c9801e64-ca03-4906-8c65-b35629e196ef","size":"ddd2bc49-62eb-47c8-9666-2ea1ba0b7daa","sizeParsed":"001d6280-8df1-4389-a2c2-127f6818e6e8","showDescriptionAsCaption":"7a2cc66b-1504-4aaa-9a31-184d8d1d8918","linkToFullsizeImage":"07685aa8-5edd-4e80-9740-15e5454cbf41","id":"2345ef25-23c6-434d-8e77-5353e7ec467b"}}]},{"identifier":"f538b4f8-97e4-4cc3-a281-1dc4814598d5","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"e1bc2a41-b178-47b3-9d3d-aaa0cfd6d2f3","properties":{"markdown":"When we look at this content model, we can see it has a mix of channel-specific content (the `SEOFields` [reusable field schema](https://docs.kentico.com/x/D4_OD)) which only makes sense in a website channel, and channel-independent content (ex: `ArticleTitle`, `ArticlePageSummary`, ect...) that could be used in [website](https://docs.kentico.com/x/JwKQC), [email](https://docs.kentico.com/x/IaDWCQ), or [headless](https://docs.kentico.com/x/xIWOD) channels.\n\nIf we want to modify the content model by adding a new `ArticlePageSummaryHTML` field, which would use the [Rich Text UI Form Component](https://docs.kentico.com/developers-and-admins/customization/extend-the-administration-interface/ui-form-components/reference-admin-ui-form-components#rich-text-editor) to author a summary with links and some text formatting, we could just add the new field. Non-destructive additions are easy and that's not what we're focusing on here.\n\nInstead, what if we want to move all of the channel-independent fields to a new `ArticleContent` reusable content type and reference that here?\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"6b7e38da-6ba2-49b4-a34e-25c2a88aca8d"},"fieldIdentifiers":{"markdown":"4fe6f89c-894f-478a-bdfa-b98c1d0059ff","markdownStyle":"2c4d8a5d-1424-4eef-898e-1d69d028a66f","markdownStyleParsed":"eb4e8a25-1985-48d3-b0ce-f0a42e275258","markdownCodeLanguage":"0d350f23-73e2-4c83-833e-bbc95d137bea","id":"094951ba-5dc8-4dff-a6b9-afc66eba53e8"}}]},{"identifier":"efc6b3f4-8d83-434f-85d2-6b62936f366f","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"4f4dd1b7-7c58-4dc2-a2a1-96083f769b57","properties":{"markdown":"If you are interested in understanding *why* we might want to change a content model in this way,\ntake a look at our Quickstart Guide [Model a reusable Article](https://docs.kentico.com/x/wYOOD).\n","markdownStyle":"Note","markdownStyleParsed":1,"markdownCodeLanguage":"","id":"2dfc02b8-6ee3-4461-bde0-2a669ab7ce38"},"fieldIdentifiers":{"markdown":"c7787016-b862-4803-8aa5-29a283fbbb14","markdownStyle":"9a1921b5-60f0-4fba-9b3e-d6b3abaff006","markdownStyleParsed":"f6808bf1-c149-4cec-a9a7-7968545372e6","markdownCodeLanguage":"9a1a10b0-f8a2-4d17-80b4-5b6fb544b406","id":"a593901e-c45c-441c-bd8b-dc16ced2c066"}}]},{"identifier":"1a326f75-e917-41a8-95e7-7ff08f3a6ae2","type":"CommunityPortal.HeadingWidget","variants":[{"identifier":"e7153b80-3e97-48d4-943d-8962ba438787","properties":{"headingText":"Append-only","headingLevel":"H2","headingLevelsParsed":1,"headingAlignment":"Left","headingAlignmentsParsed":0,"showHeadingAnchor":true,"id":"ae96e47c-59a8-415d-b079-67bb6ee9a875"},"fieldIdentifiers":{"headingText":"2dfa5cb0-39dc-4617-8392-c706a97bb9b2","headingLevel":"065401f1-374b-4228-b23d-9d70f76219d3","headingLevelsParsed":"e2accff6-30cc-4155-ab91-9e80590bd69f","headingAlignment":"97504d3b-619f-4d1f-8229-498b11bccbbc","headingAlignmentsParsed":"fdcb4a2e-79f3-4a3c-b6a7-12012fe2b96a","showHeadingAnchor":"c50317d8-1bbb-48f9-8d1b-6ab956a40d59","id":"cdf0114c-3630-4a8d-a465-d9ee02b04586"}}]},{"identifier":"b8e51c08-8bf4-484f-8985-f5c07d8fc6be","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"50a43809-0981-4dcd-8739-820b3d6f3a10","properties":{"markdown":"If a DXP solution prioritizes business continuity above all else, a developer's instincts might lead them to avoid modifying existing content or behavior and instead use an \"append-only\" approach.\n\nWith our example scenario, this would mean we create our new [reusable](https://docs.kentico.com/developers-and-admins/development/content-modeling/store-content#use-content-hub-for-reusable-content) `ArticleContent` content type.\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"d422ea13-a29a-4136-bf86-80d903529305"},"fieldIdentifiers":{"markdown":"eabb94ce-c721-459f-b7d6-3d3d17b90332","markdownStyle":"cfbb48f8-c621-4c15-899f-318b07d126f6","markdownStyleParsed":"69c46acc-e46c-4635-8725-41556611d39c","markdownCodeLanguage":"5e741c26-a6ee-47cb-8449-41f1290ca0f0","id":"83de66bb-28f8-44be-b828-3567501e9cad"}}]},{"identifier":"136dab38-af87-4aa2-9d22-19b59a7ad3c7","type":"CommunityPortal.ImageWidget","variants":[{"identifier":"bf0ee0f8-9f89-41d5-be5a-d0c19e5d419b","properties":{"selectedImages":[{"identifier":"5cd3c89f-1859-40ec-95d0-ff495f83115a"}],"alignment":"Center","alignmentParsed":1,"size":"Full_Width","sizeParsed":3,"showDescriptionAsCaption":false,"linkToFullsizeImage":true,"id":"969b644c-b76c-45a1-b7bc-35bc60768bb7"},"fieldIdentifiers":{"selectedImages":"99df79c9-2d05-4960-8d84-37e47390a778","alignment":"3f0d4744-686f-4d9d-b315-785157120cf4","alignmentParsed":"f3897947-8899-4f47-b637-b735847dd42e","size":"4d407680-2761-4a07-aac7-92b4c4606ade","sizeParsed":"a282c9e2-a8d7-4306-9887-864ca77366a4","showDescriptionAsCaption":"e95c6c45-92e0-482b-88f6-8cd3000e6dc0","linkToFullsizeImage":"c6c19ade-36f9-4840-8802-f1802d5a7d9a","id":"8cb5821a-5290-4a13-9eb2-f80d508431a2"}}]},{"identifier":"3f8cd419-f17c-4c6f-91cd-6b80612f3c87","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"f5c7da53-95c5-42e3-a129-b340c0179b2d","properties":{"markdown":"Then we can add a `ArticlePageArticleContent` field to the `ArticlePage` content type to reference it.\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"07de6161-a022-4ec6-9f2a-a3085cfae4be"},"fieldIdentifiers":{"markdown":"828b5c99-49cd-4426-b648-078a837e6bbd","markdownStyle":"7ed0f446-b563-4ae5-b405-e91478069f0d","markdownStyleParsed":"604f3cdd-10cf-4732-8426-1ff5601b3517","markdownCodeLanguage":"791a4a99-bca7-4dbf-a03e-b150239b0802","id":"16328386-18e6-4874-a9c1-06664dc5fe79"}}]},{"identifier":"bb3f588c-9af2-4eba-b32c-893d10988891","type":"CommunityPortal.ImageWidget","variants":[{"identifier":"2baf2cc4-3de7-475b-a7a5-bc424ff3a268","properties":{"selectedImages":[{"identifier":"ff055b80-554c-4f9f-a7ec-b5a6c6c39ab2"}],"alignment":"Center","alignmentParsed":1,"size":"Full_Width","sizeParsed":3,"showDescriptionAsCaption":false,"linkToFullsizeImage":true,"id":"895a1469-14de-474c-b272-979af90e14de"},"fieldIdentifiers":{"selectedImages":"d9d1a6a1-847d-4dec-8d6d-32bf12ef1dce","alignment":"9cc05bd8-82cd-4400-aa1d-4180e0f90ee7","alignmentParsed":"66312602-3905-47e4-9813-7c59eb0c478f","size":"d5c75ddf-ec7d-4011-afdd-da89a9b570c2","sizeParsed":"3f908e97-f9e3-4a96-aa0e-1aa26dd999b1","showDescriptionAsCaption":"92a2672d-4138-4c35-91d2-d77f1e1ca0f2","linkToFullsizeImage":"9c44366a-53f7-4007-bf62-1670c06f497c","id":"7fd1b450-e1ae-48f7-9f7c-ff6b99122721"}}]},{"identifier":"68945acb-9920-444c-8851-f6f845bf4b6d","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"f6287b4e-45e5-4053-980c-eb0e61068383","properties":{"markdown":"We leave all the existing `ArticlePage` fields because they still contain content from the web pages authored before we change the content type, but we can hide the fields in the form since marketers won't need them going forward 😉.\n\nDevelopers will need to accommodate both old and new content models. The original web pages will have their content in `ArticlePage` fields and the new pages will use the `ArticlePageArticleContent` related items. This complicates the application logic, but it is the safest approach.\n\nWe've solved the problem of evolving our content model, but now we have some uncomfortable questions to answer:\n\n* Do we maintain this old, duplicate content forever?\n* When we onboard new developers to the project, do we always have to remind them \"You need to check for content authored the new and old ways\".\n* What happens when we add new behavior that depends on the Article content model - like search indexing?\n* Can we handle this growing complexity across the entire solution as we continuously evolve content models many times to meet the needs of changing marketing strategies?\n\nIt seems like we'll eventually be overwhelmed with complexity 😓.\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"a791584b-5a25-45ad-aa1f-de0b95e3d068"},"fieldIdentifiers":{"markdown":"25b6650b-fee4-47a4-9fbd-85e9ba165690","markdownStyle":"b5c1c29b-8338-4869-8c87-826c325f32d2","markdownStyleParsed":"78923549-fef2-42c8-9357-f42677835a02","markdownCodeLanguage":"c29e77e9-6449-4480-9810-d0eb98f9d182","id":"5e1f6390-af89-4f83-9314-bce533252f4e"}}]},{"identifier":"2ff13912-f2cf-4562-b9c1-c5d97e3b0316","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"19f55721-7b35-44db-958c-5a92da8b9ec2","properties":{"markdown":"Should we move the `ArticlePage.ArticleRelatedArticles` field in the new `ArticleContent` content type or leave it in the `ArticlePage` content type? It depends on the goals of that content relationship.\n\nIf it is meant only for website channels, then we should leave it where it is.\nHowever, if it is part of the core article content, then it might make sense to move it to the `ArticleContent` content type *and* change it to a \"Content items\" field instead of \"Pages\".\n\nLet me know your thoughts in the comments!\n","markdownStyle":"Note","markdownStyleParsed":1,"markdownCodeLanguage":"","id":"3bdea65c-7671-4e9b-9d30-2d4a02325cdd"},"fieldIdentifiers":{"markdown":"d6beb1f1-677e-434f-9ac6-fb09c030d92e","markdownStyle":"03ba7f2d-44b1-41ab-ae54-df8fb8b3c70e","markdownStyleParsed":"da8a84ee-2d9f-4919-808c-1d06bd5bab81","markdownCodeLanguage":"d6c7f7b3-8d47-4a53-ae4e-d2421025ab21","id":"4aff2d37-4d2a-4d93-9618-4d310b65f9dc"}}]},{"identifier":"9e668e5c-d903-4a19-a9dc-7ecfde9d5fe9","type":"CommunityPortal.HeadingWidget","variants":[{"identifier":"cc6e0d6e-fef2-4bb7-9b0b-c91c22f627fe","properties":{"headingText":"Transactional Breaking Change","headingLevel":"H2","headingLevelsParsed":1,"headingAlignment":"Left","headingAlignmentsParsed":0,"showHeadingAnchor":true,"id":"ccb2fbe9-12db-462a-ad70-83f75aa15e65"},"fieldIdentifiers":{"headingText":"601f41e6-16a3-4e5a-9c88-bd260e7511fd","headingLevel":"fa1e3a2d-a6f4-446e-90b5-8d3455006054","headingLevelsParsed":"0f6b9168-fc95-4d21-a5db-2559d513a31c","headingAlignment":"2c9d095e-6be1-41d9-b035-86618ff78126","headingAlignmentsParsed":"29078193-9a7c-4910-829d-15c693c0a299","showHeadingAnchor":"f344880a-c1e5-455d-bfca-8b931f213bea","id":"5ce33c6a-92c1-4193-93b7-ee643dd8b804"}}]},{"identifier":"1a947b68-8ac9-4d46-aac8-5d784e6c67f9","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"b8dd98ac-4fdf-4336-9376-f4ca5aee5db3","properties":{"markdown":"Developers want to build useful and performant software, but they also have their own responsibilities with any project. One of the most difficult of those responsibilities is managing system complexity 😰.\n\nWouldn't it be great if we could accommodate the example scenario above in a single deployment! Over an done with, make the breaking change but keep the code and content model simple 👏.\n\nThe assumption with this kind of breaking change is that our code represents a single state, not a transitionary state. To put it more concretely, our code either handles the original `ArticlePage` content type or a new one that references the `ArticleContent` reusable content and doesn't duplicate any content.\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"b119230b-86f0-4a1b-87da-41212f863742"},"fieldIdentifiers":{"markdown":"78788f09-9d2b-4cd1-8998-e3926191fe0b","markdownStyle":"7dd2aa63-79bc-4e38-b35c-78f6c6b36459","markdownStyleParsed":"31626afc-27ea-459b-b6dc-7a8a1ef17c69","markdownCodeLanguage":"6559762b-92c0-4eb9-8b37-876332f23305","id":"bbca2e71-5a7e-4b5f-8a21-61327f645b7c"}}]},{"identifier":"0d791091-4e5e-4444-856b-bb876d4c17ec","type":"CommunityPortal.ImageWidget","variants":[{"identifier":"3169cf0a-53d8-4771-aa7e-fddd1156ce3d","properties":{"selectedImages":[{"identifier":"22fa8fde-b637-4c2f-a925-12dd0beb6e0a"}],"alignment":"Center","alignmentParsed":1,"size":"Full_Width","sizeParsed":3,"showDescriptionAsCaption":false,"linkToFullsizeImage":true,"id":"b1fe2d17-a8ce-421e-bba6-7995926640a3"},"fieldIdentifiers":{"selectedImages":"f8c7a8a6-09a6-44a6-9fd5-3c7c84f2d73f","alignment":"8a5b76d4-cece-4eca-9669-7a24e35e9a97","alignmentParsed":"8f1e03f8-8184-4546-9c04-dd9fb9a806bb","size":"19f7a176-c365-47ec-a333-6d4fb9b388e5","sizeParsed":"3560277d-12f0-41c1-a617-303d3a67f595","showDescriptionAsCaption":"10e75705-60d0-4581-bb27-905f78af3215","linkToFullsizeImage":"14fe54e6-0b2e-415a-8490-23ed2b07f0f7","id":"15b6c554-917a-48e4-9783-0665001972a8"}}]},{"identifier":"7417119c-887f-46aa-9e68-dea8becf0ad4","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"a4b5ed49-2475-429e-85e7-58088b9e0ca7","properties":{"markdown":"Isn't that nice! It's a simple, comprehensible state of affairs and our code that renders this content in a website channel also reflects this.\n\nHowever, to achieve this we must change the state of the entire world in one single operation and it requires careful technical choreography 🩰 of data migrations and code deployment.\n\nThis puts a lot of responsibility on any migration code, which will run *after* a deployment but *before* we start the application back up. We need to handle all corner cases and if the migration does fail, it needs to without corrupting the solution.\n\nIt's important to remember that reusable content in Xperience by Kentico solutions isn't used in website channels only - it's also used in email and headless channels. This means if our scenario involved breaking changes with an existing reusable content type, we'd also have to migrate [email templates](https://docs.kentico.com/x/eRT_Cw) and coordinate our deployment with any [consumers of the GraphQL API](https://docs.kentico.com/x/34VwCg) of a headless channel.\n\nThis deployment is starting to sound a lot more complex and kinda scary 👻. We've traded complexity of a content model and our code with the complexity of a single, point-in-time deployment operation.\n\nIf this has you sweating a bit 😅, the **Append-only** approach above might sound more appealing that it originally did.\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"b438abbd-627f-49cb-8c45-cd2ea9b19f58"},"fieldIdentifiers":{"markdown":"c4a595ca-3a02-49d9-be00-50daa29243b1","markdownStyle":"b8af8968-e799-4fdd-94a6-ab047a6781d3","markdownStyleParsed":"47a213ba-344a-4d62-8023-6e8c846c24d6","markdownCodeLanguage":"d1354ffd-e436-4fb6-916f-ba24554fc459","id":"6099e41f-ef1a-4050-ac9a-051ebd68f7d2"}}]},{"identifier":"654dca36-4bde-4872-b352-41daccee0de4","type":"CommunityPortal.HeadingWidget","variants":[{"identifier":"95340407-bc79-4f9a-b692-3e5396a9f194","properties":{"headingText":"Expand and Contract","headingLevel":"H2","headingLevelsParsed":1,"headingAlignment":"Left","headingAlignmentsParsed":0,"showHeadingAnchor":true,"id":"1d7744cc-232a-4946-b30a-ecd791becd5f"},"fieldIdentifiers":{"headingText":"eb71bc50-77e4-4e27-84e1-e8c7d407dbc8","headingLevel":"a335c765-5650-4fd6-8706-802758eadcb2","headingLevelsParsed":"0595c653-68fd-4ab5-acf5-6c3941dc802e","headingAlignment":"e79dc9c8-6daf-4c56-ad9c-10c2d5e8d8af","headingAlignmentsParsed":"9ccb2463-ef02-4a33-90b3-2c6b2ee64560","showHeadingAnchor":"764a8ec1-d141-45a3-bf02-ce784c1cb0cf","id":"147a8bc9-09e2-4ef1-a83c-a3b7ab64194f"}}]},{"identifier":"09d3cc62-175e-4b7d-9033-727376aeff77","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"033ab997-fbd9-447b-9e02-368bb83db15c","properties":{"markdown":"There are things marketers and developers like about both of the approaches above. **Append-only** prioritizes business continuity, simplifies deployments, and prevents regressions. The **Transactional Breaking Change** approach prioritizes managing solution complexity, which becomes more important over time.\n\nWhat if we could combine the best of both options 🧐? Well, that's goal of **Expand and Contract**, also known as [parallel change](https://martinfowler.com/bliki/ParallelChange.html).\n\nTo put it simply, this solution involves doing both **Append-only** *and* **Transactional Breaking Change**, but it treats them as two separate steps or deployments. This is where the term \"Expand and Contract\" comes from - first we expand our solution complexity and then contract it. Let's see how this would work with our example scenario.\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"d66a2433-b6a2-4654-8950-7e0ff2d32c90"},"fieldIdentifiers":{"markdown":"c99f37cd-5fc2-489a-8f19-2a5d6823ab91","markdownStyle":"7e0dd6df-4dab-4ec5-bbf4-d3d0daae182c","markdownStyleParsed":"b793184a-9b82-4558-84e2-fc003e478fc3","markdownCodeLanguage":"b8edc628-e4f2-4d2a-9c61-58dc69eef50b","id":"b7ceda3f-42ff-4a39-b854-1e54ee863434"}}]},{"identifier":"2e972995-20e4-4712-8355-97145055cdc2","type":"CommunityPortal.HeadingWidget","variants":[{"identifier":"15421925-a6fd-4c15-b575-b756dd3c6ebb","properties":{"headingText":"Managing Complexity","headingLevel":"H3","headingLevelsParsed":2,"headingAlignment":"Left","headingAlignmentsParsed":0,"showHeadingAnchor":true,"id":"b949abe9-93dc-436f-b02a-e6c7c583d182"},"fieldIdentifiers":{"headingText":"17b8a5e4-b3c8-42ca-8e77-9b1348252d2b","headingLevel":"c08f3bbe-c203-47a6-8404-bd8d1865351c","headingLevelsParsed":"78af0bff-f09f-4e4b-b258-e1e4bfeb3e56","headingAlignment":"4a6c8692-ca28-4444-8e59-805f90909609","headingAlignmentsParsed":"e9763d7d-7915-4cb8-bfbd-9c1ad77136ae","showHeadingAnchor":"c33918c3-215b-469d-a02c-b1642281a9a2","id":"4819b5aa-9eb3-4703-b816-90885a55c677"}}]},{"identifier":"ee297ee1-1a08-4cb6-9523-a5af15885d63","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"e8b8d984-1ec5-4a41-8148-66b5ebe4ffb2","properties":{"markdown":"We'll do all the steps we took in the **Append-only** approach - add a new `ArticleContent` content type and modify the `ArticlePage` content type to reference it. This is the **expand** phase.\n\nOur code will *temporarily* become more complex because we want to accommodate article web pages that include all the content in their fields *and* ones that reference reusable article content items. Most of our Razor templating code should stay exactly the same if we've created some separation between content retrieval and content rendering 🤓, but our content item querying and DTO or view model mapping will have to handle both content models.\n\nAfter we deploy the updated content types and the code to handle them, we can start thinking about migrations.\n\nIf we only have a few articles, marketers can copy/paste content from `ArticlePage` web pages to the new reusable `ArticleContent` items. We'll need to leave the fields visible for the marketers to copy the content and also train them to not use the old fields when authoring a new article web page.\n\nIf we have many `ArticlePage` web pages, we can [write migration code](https://docs.kentico.com/x/ywAcCQ), in either SQL or C#, to automate the work for marketers.\n\nEven if we are automating migrations, we don't have to execute them as one large transaction. Instead, we can run them batches - during future deployments or at runtime - because our code will continue to handle the old and new content models.\n\nWhat about the scenario where reusable content needs to be evolve but it's being used in headless and email channels 🤷🏼‍♀️? Well, we now have the time to adopt those changes and inform any external consumers about the changes so they can adapt their code 👍🏾.\n\nWe can even do a deployment where we just update the old content type fields to make them invisible, simplifying the marketer's content management experience, while we wait for external consumers to adapt.\n\nOnce all the content has been migrated and we know the old code paths are no longer in use we can deploy our breaking change and remove the old fields. This is the **contract** phase.\n\nBut, at this point, it isn't really a breaking change anymore because nothing is relying on those fields - they've become an internal implementation detail.\n\nThis \"contract\" deployment is always satisfying - we don't have to be concerned about our breaking change (because nothing depends on it) and we get to simplify the system, usually by deleting a lot of code 🤗.\n\n**Expand and Contract** is not focused on *eliminating* complexity, it's a way to *manage* complexity.\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"e9588277-3268-4e91-9d83-763215542016"},"fieldIdentifiers":{"markdown":"c68f9cee-05bc-470c-9ced-0fd21ee667b9","markdownStyle":"6fb2183c-a405-4eed-b3a5-a36dbb5ef3f3","markdownStyleParsed":"03985e87-7b19-4cd9-8bbd-28f8ed35003b","markdownCodeLanguage":"0f3ab635-c3ea-4f1e-8cfd-4626624de036","id":"face0608-ceba-4a8d-9949-ff5fbc95c564"}}]},{"identifier":"552eb90c-3ced-4c52-b8b1-933553857171","type":"CommunityPortal.HeadingWidget","variants":[{"identifier":"0b355ee1-0435-4864-aed1-f25914cef4b7","properties":{"headingText":"Caveats and opportunities","headingLevel":"H2","headingLevelsParsed":1,"headingAlignment":"Left","headingAlignmentsParsed":0,"showHeadingAnchor":true,"id":"a9c2242c-5159-4ce8-b96b-2ea025bbd4d6"},"fieldIdentifiers":{"headingText":"1ae961a3-cfdb-498e-bfdd-768b24935a3c","headingLevel":"e10032dc-3be3-4b52-a644-682e91332902","headingLevelsParsed":"6f041801-0c7d-47b7-9c95-8b621f19fd94","headingAlignment":"9baa41c6-40a5-40a6-ad29-d7734c6c66aa","headingAlignmentsParsed":"93062ff5-bd08-42f4-b0cf-b6cf7a996dd8","showHeadingAnchor":"9442339e-5cce-4b46-acfd-ea950466cb61","id":"1483d231-8ffa-4076-93b5-609cc37c1fb6"}}]},{"identifier":"dad3c1e9-ae44-443c-bd64-eea596364302","type":"CommunityPortal.MarkdownWidget","variants":[{"identifier":"87771b70-531a-4bc7-b4a5-98cf37acade7","properties":{"markdown":"**Expand and Contract** isn't a magic 🪄 cure-all solution. It still has to manage a temporary increase in complexity and it's up to developers and marketers to decide how to handle that with communication and planning. But, it avoids the permanent complexity of **Append-only** and the deployment complexity of **Transactional Breaking Change**.\n\nThis is extremely important for solutions built with Xperience by Kentico because of the observation we made at the beginning of this article. Xperience as product, marketing strategies, web technologies, and code dependencies all continue to evolve and we need to design a system *and* processes of working with that system that allow us to maintain business continuity.\n\nFor marketing teams using a DXP, that continuity has a **direct connection** to the R-word used in commercial side of a business - 💰 **Revenue** 💰.\n\nIf you'd like to explore these concepts further, here's some articles describing Expand and Contract with more complex examples.\n\n* [Parallel Change](https://martinfowler.com/bliki/ParallelChange.html)\n* [Expand/Contract: making a breaking change without a big bang](https://blog.thepete.net/blog/2023/12/05/expand/contract-making-a-breaking-change-without-a-big-bang/)\n* [Expand and Contract: A Pattern to Apply Breaking Changes to Persistent Data with Zero Downtime](https://www.tim-wellhausen.de/papers/ExpandAndContract/ExpandAndContract.html)\n\n<br />\n","markdownStyle":"Standard","markdownStyleParsed":0,"markdownCodeLanguage":"","id":"2a6dcf41-fb9e-46a5-b057-5b179fc9e85e"},"fieldIdentifiers":{"markdown":"f648cdcd-3ae5-447f-836c-736dc489a15e","markdownStyle":"58c59d2f-3344-4d49-aee2-71ad6c193669","markdownStyleParsed":"94f1a2d1-a42e-49bc-b23d-9018e3053f09","markdownCodeLanguage":"b710cf5d-0004-4db5-a095-e7d6fa8e9f81","id":"d860d95b-0068-4e84-92cd-61a3dbf8ada3"}}]}]}],"fieldIdentifiers":{"layout":"9e9a0c68-d294-4240-adb8-47c89bc6d59d","layoutParsed":"26740915-4ed5-4ec8-85d7-3aef7c702ba4","paddingTop":"6d4137e5-1a22-4e64-a95e-980ccd6a89cd","paddingTopParsed":"67867674-484c-48f5-a609-b5ae3e8fd864","paddingBottom":"b73f0b81-ade6-4836-b815-c6516265210b","paddingBottomParsed":"be43a8e8-1136-411d-a5ed-ce4b480b6d3b","backgroundColor":"d46fff22-8d01-4447-9922-82764b557ac8","backgroundColorParsed":"6882a9a9-f080-4f2f-bd21-c29cfe112e0b"}}]}]}]]>
  </ContentItemCommonDataVisualBuilderWidgets>
  <CoreTaxonomyDXTopics>
    <![CDATA[[{"Identifier":"b492b56d-3869-4f3e-bda5-cf8dd6588291"},{"Identifier":"e3623da6-d90c-4089-9fd0-25df6c30bee8"},{"Identifier":"578bdfaa-ab53-4901-8c0d-1a90f833dc0f"},{"Identifier":"32675374-2ca5-4e47-bcf9-8e3bc952ccdb"},{"Identifier":"378366be-601d-42b0-a719-5daee7392fb9"},{"Identifier":"1015b219-7365-459f-9474-0c96a842291c"}]]]>
  </CoreTaxonomyDXTopics>
  <WebPageCanonicalURL />
  <WebPageMetaExcludeFromSitemap>False</WebPageMetaExcludeFromSitemap>
  <WebPageMetaRobots />
  <WebPageMetaShortDescription>
    <![CDATA[Modern DXP solutions are ever evolving, and Xperience by Kentico is no different. How can teams manage changes in content models that require breaking changes without impacting business continuity and manage growing system complexity?]]>
  </WebPageMetaShortDescription>
  <WebPageMetaTitle>
    <![CDATA[Safely evolving a content model with Expand and Contract]]>
  </WebPageMetaTitle>
  <ContentItemReferences>
    <cms.contentitemreference>
      <ContentItemReferenceGroupGUID>baef8e96-a792-478c-a9dc-1929378ccbac</ContentItemReferenceGroupGUID>
      <ContentItemReferenceGUID>57b0ad4d-02fd-42cf-a4b6-b6e612680a01</ContentItemReferenceGUID>
      <ContentItemReferenceSourceCommonDataID>
        <GUID>50693d2c-c2a8-4c0f-8b65-4dc9d0aba9c8</GUID>
        <ObjectType>cms.contentitemcommondata</ObjectType>
      </ContentItemReferenceSourceCommonDataID>
      <ContentItemReferenceTargetItemID>
        <CodeName>SeanG.Wright-age8tkbp</CodeName>
        <GUID>f9ac36a5-e1a6-4d21-9cb7-beb385d0fea0</GUID>
        <ObjectType>cms.contentitem</ObjectType>
      </ContentItemReferenceTargetItemID>
    </cms.contentitemreference>
    <cms.contentitemreference>
      <ContentItemReferenceGroupGUID>d9d1a6a1-847d-4dec-8d6d-32bf12ef1dce</ContentItemReferenceGroupGUID>
      <ContentItemReferenceGUID>73abb9f5-d7e3-4180-a28c-2ad90ee57b2e</ContentItemReferenceGUID>
      <ContentItemReferenceSourceCommonDataID>
        <GUID>50693d2c-c2a8-4c0f-8b65-4dc9d0aba9c8</GUID>
        <ObjectType>cms.contentitemcommondata</ObjectType>
      </ContentItemReferenceSourceCommonDataID>
      <ContentItemReferenceTargetItemID>
        <CodeName>Expand-and-contract-article-page-content-model-2-yv5mlgpy</CodeName>
        <GUID>ff055b80-554c-4f9f-a7ec-b5a6c6c39ab2</GUID>
        <ObjectType>cms.contentitem</ObjectType>
      </ContentItemReferenceTargetItemID>
    </cms.contentitemreference>
    <cms.contentitemreference>
      <ContentItemReferenceGroupGUID>99df79c9-2d05-4960-8d84-37e47390a778</ContentItemReferenceGroupGUID>
      <ContentItemReferenceGUID>2ef7f724-e67b-4240-8559-3fdab8ef2f35</ContentItemReferenceGUID>
      <ContentItemReferenceSourceCommonDataID>
        <GUID>50693d2c-c2a8-4c0f-8b65-4dc9d0aba9c8</GUID>
        <ObjectType>cms.contentitemcommondata</ObjectType>
      </ContentItemReferenceSourceCommonDataID>
      <ContentItemReferenceTargetItemID>
        <CodeName>Expand-and-contract-article-content-content-model-1-yxfj6a9x</CodeName>
        <GUID>5cd3c89f-1859-40ec-95d0-ff495f83115a</GUID>
        <ObjectType>cms.contentitem</ObjectType>
      </ContentItemReferenceTargetItemID>
    </cms.contentitemreference>
    <cms.contentitemreference>
      <ContentItemReferenceGroupGUID>f8c7a8a6-09a6-44a6-9fd5-3c7c84f2d73f</ContentItemReferenceGroupGUID>
      <ContentItemReferenceGUID>e85124f0-7e77-4b06-b4e4-f63fa44df383</ContentItemReferenceGUID>
      <ContentItemReferenceSourceCommonDataID>
        <GUID>50693d2c-c2a8-4c0f-8b65-4dc9d0aba9c8</GUID>
        <ObjectType>cms.contentitemcommondata</ObjectType>
      </ContentItemReferenceSourceCommonDataID>
      <ContentItemReferenceTargetItemID>
        <CodeName>Expand-and-contract-article-page-content-model-3-qn4vi292</CodeName>
        <GUID>22fa8fde-b637-4c2f-a925-12dd0beb6e0a</GUID>
        <ObjectType>cms.contentitem</ObjectType>
      </ContentItemReferenceTargetItemID>
    </cms.contentitemreference>
    <cms.contentitemreference>
      <ContentItemReferenceGroupGUID>f97224bd-3b18-4ea3-9f68-930e9d956f6f</ContentItemReferenceGroupGUID>
      <ContentItemReferenceGUID>b0eae270-2be8-4fc1-a0c6-426a66ec8ff4</ContentItemReferenceGUID>
      <ContentItemReferenceSourceCommonDataID>
        <GUID>50693d2c-c2a8-4c0f-8b65-4dc9d0aba9c8</GUID>
        <ObjectType>cms.contentitemcommondata</ObjectType>
      </ContentItemReferenceSourceCommonDataID>
      <ContentItemReferenceTargetItemID>
        <CodeName>Expand-and-contract-article-page-content-model-1-0uwo66b9</CodeName>
        <GUID>cb3541e4-79d3-48e6-93e6-5707f9a4e970</GUID>
        <ObjectType>cms.contentitem</ObjectType>
      </ContentItemReferenceTargetItemID>
    </cms.contentitemreference>
    <cms.contentitemreference>
      <ContentItemReferenceGroupGUID>9a93d64c-5cc7-47f0-94e8-f7b3cc48946e</ContentItemReferenceGroupGUID>
      <ContentItemReferenceGUID>38665a13-353b-4f5e-ae72-59667c158a22</ContentItemReferenceGUID>
      <ContentItemReferenceSourceCommonDataID>
        <GUID>50693d2c-c2a8-4c0f-8b65-4dc9d0aba9c8</GUID>
        <ObjectType>cms.contentitemcommondata</ObjectType>
      </ContentItemReferenceSourceCommonDataID>
      <ContentItemReferenceTargetItemID>
        <CodeName>SafelyEvolvingAContentModelWithExpandAndContract-39vg67eb</CodeName>
        <GUID>eef9eece-40b6-44b3-be51-7508a235791c</GUID>
        <ObjectType>cms.contentitem</ObjectType>
      </ContentItemReferenceTargetItemID>
    </cms.contentitemreference>
  </ContentItemReferences>
</cms.contentitemcommondata>